pbjsChunk([13],{10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t,n=e.url,o=e.analyticsType,r=e.global,i=e.handler,_=[],N=0,D=!0;o===h&&(0,u.loadScript)(n,U);(o===S||m)&&U();return{track:function(e){var t=e.eventType,a=e.args;(this.getAdapterType()===h||m)&&window[r](i,t,a);this.getAdapterType()===S&&function(e){var t=e.eventType,a=e.args,o=e.callback;(0,s.ajax)(n,o,JSON.stringify({eventType:t,args:a}))}.apply(void 0,arguments)},enqueue:A,enableAnalytics:function(e){var n=this,o=this;I="object"!==(void 0===e?"undefined":a(e))||"object"!==a(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling));if(I){var i;c.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==v&&A.call(o,{eventType:t,args:n})}})),l(i={},g,(function(e){return n.enqueue({eventType:g,args:e})})),l(i,y,(function(e){return n.enqueue({eventType:y,args:e})})),l(i,v,(function(e){return n.enqueue({eventType:v,args:e})})),l(i,T,(function(e){return n.enqueue({eventType:T,args:e})})),l(i,E,(function(e){return n.enqueue({eventType:E,args:e})})),l(i,b,(function(e){return n.enqueue({eventType:b,args:e})})),l(i,p,(function(e){return n.enqueue({eventType:p,args:e})})),l(i,d,(function(t){t.config=e.options,n.enqueue({eventType:d,args:t})})),t=i,f._each(t,(function(e,t){c.on(t,e)}))}else f.logMessage('Analytics adapter for "'+r+'" disabled by sampling');this.enableAnalytics=function(){return f.logMessage('Analytics adapter for "'+r+'" already enabled, unnecessary call to `enableAnalytics`.')}},disableAnalytics:function(){f._each(t,(function(e,t){c.off(t,e)}))},getAdapterType:function(){return o},getGlobal:function(){return r},getHandler:function(){return i},getUrl:function(){return n}};function A(e){var t=e.eventType,n=e.args,a=this;r&&window[r]&&t&&n?this.track({eventType:t,args:n}):_.push((function(){N++,a.track({eventType:t,args:n})}))}function U(){if(D){for(var e=0;e<_.length;e++)_[e]();_.push=function(e){e()},D=!1}f.logMessage("event count sent to "+r+": "+N)}};var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o},u=n(5),s=n(7);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(11),f=n(0),d=i.default.EVENTS.AUCTION_INIT,p=i.default.EVENTS.AUCTION_END,g=i.default.EVENTS.BID_REQUESTED,v=i.default.EVENTS.BID_TIMEOUT,y=i.default.EVENTS.BID_RESPONSE,T=i.default.EVENTS.BID_WON,E=i.default.EVENTS.BID_ADJUSTMENT,b=i.default.EVENTS.SET_TARGETING,h="library",S="endpoint",m="bundle",I=!0},258:function(e,t,n){e.exports=n(259)},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=u(n(10)),r=u(n(4)),i=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var s=n(0),l="//pa.rxthdr.com/analytic",c=r.default.EVENTS.AUCTION_INIT,f=r.default.EVENTS.AUCTION_END,d=r.default.EVENTS.BID_WON,p=r.default.EVENTS.BID_REQUESTED,g=r.default.EVENTS.BID_ADJUSTMENT,v=r.default.EVENTS.BID_RESPONSE,y={publisherIds:[],utmTagData:[],adUnits:[]},T={options:{},events:[]},E={options:{},events:[]},b="not_started",h="roxot_analytics_",S=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],m="utm_timeout",I=36e5,_=36e5,N="session_id",D="session_timeout";function A(){return h.concat(N)}function U(){return h.concat(D)}function w(){if(t=localStorage.getItem(U()),Date.now()-t>_){var e=s.generateUUID();localStorage.setItem(A(),e)}var t;y.sessionId=localStorage.getItem(A())?localStorage.getItem(A()):"",localStorage.setItem(U(),Date.now())}function O(){localStorage.setItem(V(),Date.now())}function V(){return h.concat(m)}function M(e){return h.concat(e)}function q(){return void 0!==y.adUnits&&y.adUnits.length>0}function j(){E.events=[]}var C=a((0,o.default)({url:l,analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;if(void 0!==y.publisherIds&&y.publisherIds.length>0){var o,r,i,u,s,l,h=a({},n);if(h&&h.ad&&(h.ad=""),t===c&&(b="started",j()),t===d&&"not_started"===b)return w(),o=t,r=h,T.options=y,q()?y.adUnits.includes(r.adUnitCode)&&(T.events=[{args:r,eventType:o}]):T.events=[{args:r,eventType:o}],T.events.length>0&&B(t,T,"bidWon"),void(T.events=[]);t===f?(w(),E.options=y,E.events.length>0&&E.events.some((function(e){return p===e.eventType||d===e.eventType}))&&B(t,E,"eventStack"),j(),b="not_started"):(u=h,(i=t)===p?(q()&&(u.bids=(s=u.bids,l=[],s.forEach((function(e){y.adUnits.includes(e.placementCode)&&l.push(e)})),l)),u.bids.length>0&&E.events.push({eventType:i,args:u})):(function(e,t){if(q()){var n=[g,v,d];if(!y.adUnits.includes(t)&&n.includes(e))return!1}return!0})(i,u.adUnitCode)&&E.events.push({eventType:i,args:u}))}}});function B(e,t,n){var a=l+"?publisherIds[]="+y.publisherIds.join("&publisherIds[]=")+"&host="+window.location.hostname,o=new XMLHttpRequest;o.open("POST",a,!0),o.setRequestHeader("Content-Type","text/plain"),o.withCredentials=!0,o.onreadystatechange=function(t){4==this.readyState&&s.logInfo("Event "+e+" sent "+n+" to roxot prebid analytic with result"+t)},o.send(JSON.stringify(t))}C.originEnableAnalytics=C.enableAnalytics,C.enableAnalytics=function(e){(y=e.options).utmTagData=this.buildUtmTagData(),s.logInfo("Roxot Analytics enabled with config",y),C.originEnableAnalytics(e)},C.buildUtmTagData=function(){var e={},t=!1;return S.forEach((function(n){var a,o,r=(a=n,o={},window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,(function(e,t,n){o[t]=void 0!==n?n:""})),o[a]?o[a]:"");""!==r&&(t=!0),e[n]=r})),S.forEach((function(n){var a;t?(localStorage.setItem(M(n),e[n]),O()):(a=localStorage.getItem(V()),Date.now()-a>I||(e[n]=localStorage.getItem(M(n))?localStorage.getItem(M(n)):"",O()))})),e},i.default.registerAnalyticsAdapter({adapter:C,code:"roxot"}),t.default=C}},[258]);