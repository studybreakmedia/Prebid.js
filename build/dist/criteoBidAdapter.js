pbjsChunk([102],{137:function(e,i,t){e.exports=t(138)},138:function(module,exports,__webpack_require__){"use strict";var bidfactory=__webpack_require__(3),bidmanager=__webpack_require__(2),adloader=__webpack_require__(5),adaptermanager=__webpack_require__(1),utils=__webpack_require__(0),CriteoAdapter=function CriteoAdapter(){var sProt="http:"===window.location.protocol?"http:":"https:",_publisherTagUrl=sProt+"//static.criteo.net/js/ld/publishertag.prebid.js",_bidderCode="criteo",_profileId=125;function _callBids(params){if(!window.criteo_pubtag||window.criteo_pubtag instanceof Array){_pushBidRequestEvent(params);var criteoFastBid=_tryGetCriteoFastBid();criteoFastBid?eval(criteoFastBid):adloader.loadScript(_publisherTagUrl,(function(){}),!1)}else _pushBidRequestEvent(params)}function _tryGetCriteoFastBid(){try{return localStorage.getItem("criteo_fast_bid")}catch(e){return null}}function _pushBidRequestEvent(e){window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];window.Criteo.events.push((function(){for(var i,t,r=e.bids||[],a=[],n=!1,o=0;o<r.length;o++){var d=r[o],s=utils.parseSizesInput(d.sizes);a.push(new Criteo.PubTag.DirectBidding.DirectBiddingSlot(d.placementCode,d.params.zoneId,d.params.nativeCallback?d.params.nativeCallback:void 0,d.transactionId,s.map((function(e){var i=e.indexOf("x"),t=parseInt(e.substring(0,i)),r=parseInt(e.substring(i+1,e.length));return new Criteo.PubTag.DirectBidding.Size(t,r)})))),i=d.params.networkId||i,void 0!==d.params.integrationMode&&(t="amp"==d.params.integrationMode.toLowerCase()?1:0),n|=void 0!==d.params.audit}var c=new Criteo.PubTag.DirectBidding.DirectBiddingEvent(_profileId,new Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(n),a,_callbackSuccess(a),_callbackError(a),_callbackError(a),void 0,i,t);window.criteo_pubtag.push(c)}))}function parseBidResponse(e){try{return JSON.parse(e)}catch(e){return{}}}function isNoBidResponse(e){return void 0===e.slots}function _callbackSuccess(e){return function(i){var t=parseBidResponse(i);if(isNoBidResponse(t))return _callbackError(e)();for(var r=0;r<e.length;r++){for(var a=null,n=0;n<t.slots.length;n++)if(t.slots[n]&&t.slots[n].impid===e[r].impId){a=t.slots.splice(n,1)[0];break}var o=_buildBidObject(a,e[r]);bidmanager.addBidResponse(e[r].impId,o)}}}function _callbackError(e){return function(){for(var i=0;i<e.length;i++)bidmanager.addBidResponse(e[i].impId,_invalidBidResponse())}}function _invalidBidResponse(){var e=bidfactory.createBid(2);return e.bidderCode=_bidderCode,e}function _buildBidObject(e,i){var t=void 0;return e?((t=bidfactory.createBid(1)).bidderCode=_bidderCode,t.cpm=e.cpm,i.nativeCallback&&e.native?"function"!=typeof i.nativeCallback?utils.logError("Criteo bid: nativeCallback parameter is not a function"):(window.criteo_pubtag.native_slots=window.criteo_pubtag.native_slots||{},window.criteo_pubtag.native_slots[""+t.adId]={callback:i.nativeCallback,nativeResponse:e.native},t.ad='<script type="text/javascript">\n  let win = window;\n  for (const i=0; i<10; ++i) {\n    win = win.parent;\n    if (win.criteo_pubtag && win.criteo_pubtag.native_slots) {\n      let responseSlot = win.criteo_pubtag.native_slots["'+t.adId+'"];\n      responseSlot.callback(responseSlot.nativeResponse);\n      break;\n    }\n  }\n<\/script>'):(t.width=e.width,t.height=e.height,t.ad=e.creative)):t=_invalidBidResponse(),t}return{callBids:_callBids}};adaptermanager.registerBidAdapter(new CriteoAdapter,"criteo"),module.exports=CriteoAdapter}},[137]);