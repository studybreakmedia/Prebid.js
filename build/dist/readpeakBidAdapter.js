pbjsChunk([15],{250:function(e,r,t){t(251),e.exports=t(252)},251:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=r.ENDPOINT=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=t(0),a=t(6),o=r.ENDPOINT="//app.readpeak.com/header/prebid",u={TITLE_LEN:70,DESCR_LEN:120,SPONSORED_BY_LEN:50,IMG_MIN:150,ICON_MIN:50,CTA_LEN:50},d=r.spec={code:"readpeak",supportedMediaTypes:["native"],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.publisherId&&e.nativeParams)},buildRequests:function(e){var r={id:e[0].bidderRequestId,imp:e.map((function(e){return{id:(r=e).bidId,native:(function(e){if(e.nativeParams){var r=[];return s(r,(t=1,n=e.nativeParams.title,i=u.TITLE_LEN,n?{id:t,required:n.required?1:0,title:{len:n.len||i}}:null)),s(r,(a=2,o=e.nativeParams.image,d=3,c=u.IMG_MIN,p=u.IMG_MIN,o?{id:a,required:o.required?1:0,img:{type:d,wmin:o.wmin||c,hmin:o.hmin||p}}:null)),s(r,l(3,e.nativeParams.sponsoredBy,1,u.SPONSORED_BY_LEN)),s(r,l(4,e.nativeParams.body,2,u.DESCR_LEN)),s(r,l(5,e.nativeParams.cta,12,u.CTA_LEN)),{request:JSON.stringify({assets:r}),ver:"1.1"}}var t,n,i,a,o,d,c,p;return null})(r),bidfloor:r.params.bidfloor||0,bidfloorcur:r.params.bidfloorcur||"USD"};var r})).filter((function(e){return null!=e.native})),site:(function(e){var r=e&&e.length>0?e[0].params.publisherId:"0";if(!e[0].params.app)return{publisher:{id:r.toString()},id:r.toString(),ref:(function(){try{return window.top.document.referrer}catch(e){return document.referrer}})(),page:(0,i.getTopWindowLocation)().href,domain:(0,i.getTopWindowLocation)().hostname};return null})(e),app:(function(e){var r=e&&e.length>0?e[0].params.publisherId:"0",t=e[0].params.app;if(t)return{publisher:{id:r.toString()},bundle:t.bundle,storeurl:t.storeUrl,domain:t.domain};return null})(e),device:{ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},isPrebid:!0};return{method:"POST",url:o,data:JSON.stringify(r)}},interpretResponse:function(e,r){return (function(e,r){var t={},n={};if(!r.body)return[];r=r.body,c(e.data).imp.forEach((function(e){t[e.id]=e})),r&&r.seatbid.forEach((function(e){return e.bid.forEach((function(e){n[e.impid]=e}))}));var i=[];return Object.keys(t).forEach((function(e){if(n[e]){var a={requestId:e,cpm:n[e].price,creativeId:n[e].crid,ttl:300,netRevenue:!0,mediaType:"native",currency:r.cur,native:(function(e,r){if(e&&e.native){var t=c(r.adm),n={};if(t&&t.assets)return t.assets.forEach((function(e){n.title=e.title?e.title.text:n.title,n.body=e.data&&4===e.id?e.data.value:n.body,n.sponsoredBy=e.data&&3===e.id?e.data.value:n.sponsoredBy,n.image=e.img&&2===e.id?e.img.url:n.image,n.cta=e.data&&5===e.id?e.data.value:n.cta})),t.link&&(n.clickUrl=encodeURIComponent(t.link.url)),n.impressionTrackers=t.imptrackers,n}return null})(t[e],n[e])};i.push(a)}})),i})(r,e)}};function s(e,r){r&&e.push(r)}function l(e,r,t,n){return r?{id:e,required:r.required?1:0,data:{type:t,len:r.len||n}}:null}function c(e){try{if(e)return"object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e)}catch(e){(0,i.logError)("readpeakBidAdapter.safeParse","ERROR",e)}return null}(0,a.registerBidder)(d)},252:function(e,r){}},[250]);