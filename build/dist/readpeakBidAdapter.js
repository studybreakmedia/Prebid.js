pbjsChunk([15],{250:function(e,r,t){t(251),e.exports=t(252)},251:function(e,r,t){"use strict";function n(e,r){var t={},n={};if(!r.body)return[];r=r.body,m(e.data).imp.forEach((function(e){t[e.id]=e})),r&&r.seatbid.forEach((function(e){return e.bid.forEach((function(e){n[e.impid]=e}))}));var i=[];return Object.keys(t).forEach((function(e){if(n[e]){var a={requestId:e,cpm:n[e].price,creativeId:n[e].crid,ttl:300,netRevenue:!0,mediaType:"native",currency:r.cur,native:v(t[e],n[e])};i.push(a)}})),i}function i(e){return{id:e.bidId,native:a(e),bidfloor:e.params.bidfloor||0,bidfloorcur:e.params.bidfloorcur||"USD"}}function a(e){if(e.nativeParams){var r=[];return o(r,u(1,e.nativeParams.title,E.TITLE_LEN)),o(r,d(2,e.nativeParams.image,3,E.IMG_MIN,E.IMG_MIN)),o(r,s(3,e.nativeParams.sponsoredBy,1,E.SPONSORED_BY_LEN)),o(r,s(4,e.nativeParams.body,2,E.DESCR_LEN)),o(r,s(5,e.nativeParams.cta,12,E.CTA_LEN)),{request:JSON.stringify({assets:r}),ver:"1.1"}}return null}function o(e,r){r&&e.push(r)}function u(e,r,t){return r?{id:e,required:r.required?1:0,title:{len:r.len||t}}:null}function d(e,r,t,n,i){return r?{id:e,required:r.required?1:0,img:{type:t,wmin:r.wmin||n,hmin:r.hmin||i}}:null}function s(e,r,t,n){return r?{id:e,required:r.required?1:0,data:{type:t,len:r.len||n}}:null}function c(e){var r=e&&e.length>0?e[0].params.publisherId:"0";return e[0].params.app?null:{publisher:{id:r.toString()},id:r.toString(),ref:p(),page:(0,g.getTopWindowLocation)().href,domain:(0,g.getTopWindowLocation)().hostname}}function l(e){var r=e&&e.length>0?e[0].params.publisherId:"0",t=e[0].params.app;return t?{publisher:{id:r.toString()},bundle:t.bundle,storeurl:t.storeUrl,domain:t.domain}:null}function p(){try{return window.top.document.referrer}catch(e){return document.referrer}}function f(){return{ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage}}function m(e){try{if(e)return"object"===(void 0===e?"undefined":b(e))?e:JSON.parse(e)}catch(e){(0,g.logError)("readpeakBidAdapter.safeParse","ERROR",e)}return null}function v(e,r){if(e&&e.native){var t=m(r.adm),n={};if(t&&t.assets)return t.assets.forEach((function(e){n.title=e.title?e.title.text:n.title,n.body=e.data&&4===e.id?e.data.value:n.body,n.sponsoredBy=e.data&&3===e.id?e.data.value:n.sponsoredBy,n.image=e.img&&2===e.id?e.img.url:n.image,n.cta=e.data&&5===e.id?e.data.value:n.cta})),t.link&&(n.clickUrl=encodeURIComponent(t.link.url)),n.impressionTrackers=t.imptrackers,n}return null}Object.defineProperty(r,"__esModule",{value:!0}),r.spec=r.ENDPOINT=void 0;var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=t(0),y=t(6),h=r.ENDPOINT="//app.readpeak.com/header/prebid",E={TITLE_LEN:70,DESCR_LEN:120,SPONSORED_BY_LEN:50,IMG_MIN:150,ICON_MIN:50,CTA_LEN:50},N=r.spec={code:"readpeak",supportedMediaTypes:["native"],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.publisherId&&e.nativeParams)},buildRequests:function(e){var r={id:e[0].bidderRequestId,imp:e.map((function(e){return i(e)})).filter((function(e){return null!=e.native})),site:c(e),app:l(e),device:f(),isPrebid:!0};return{method:"POST",url:h,data:JSON.stringify(r)}},interpretResponse:function(e,r){return n(r,e)}};(0,y.registerBidder)(N)},252:function(e,r){}},[250]);