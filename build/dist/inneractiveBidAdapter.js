pbjsChunk([90],{176:function(e,r,t){e.exports=t(177)},177:function(e,r,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var i=(function(){function e(e,r){var t=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}})(),s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},d=(function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r})(t(0)),c=a(t(9)),u=t(7),l=a(t(2)),p=a(t(3)),f=t(4),E=t(13),m=a(t(1)),h=t(8),v={ADAPTER_NAME:"inneractive",V:"IA-JS-HB-PBJS-1.0",RECTANGLE_SIZE:{W:300,H:250},SPOT_TYPES:{INTERSTITIAL:"interstitial",RECTANGLE:"rectangle",FLOATING:"floating",BANNER:"banner"},DISPLAY_AD:20,ENDPOINT_URL:"//ad-tag.inner-active.mobi/simpleM2M/requestJsonAd",EVENTS_ENDPOINT_URL:"//vast-events.inner-active.mobi/Event",RESPONSE_HEADERS_NAME:{PRICING_VALUE:"X-IA-Pricing-Value",AD_H:"X-IA-Ad-Height",AD_W:"X-IA-Ad-Width"}},A=void 0;try{A=window.top.document.referrer}catch(e){A=window.document.referrer}var P={defaultsQsParams:{v:v.V,page:encodeURIComponent(d.getTopWindowUrl()),mw:!0,hb:"prebidjs"},stringToCamel:function(e){if(-1===e.indexOf("_")){var r=e.charAt(0);return r!==r.toLowerCase()&&(e=e.toLowerCase()),e}return(e=e.toLowerCase()).replace(/(\_[a-z])/g,(function(e){return e.toUpperCase().replace("_","")}))},objectToCamel:function(e){var r=this;return Object.keys(e).forEach((function(t){var a=r.stringToCamel(t);a!==t&&(e[a]=e[t],delete e[t])})),e}},_={fire:function(e){e.forEach((function(e){return e&&(new Image(1,1).src=encodeURI(e))}))}},g={errorEventName:"HBPreBidError",pageProtocol:"",getPageProtocol:function(){return this.pageProtocol||(this.pageProtocol="http:"===d.getTopWindowLocation().protocol?"http:":"https:"),this.pageProtocol},getEventUrl:function(e,r){return v.EVENTS_ENDPOINT_URL+"?table="+(e===this.errorEventName?"mbwError":"mbwEvent")+"&"+(this.eventQueryStringParams(r)+"&aid="+(r&&r.appId)+"_"+e+"_other&evtName="+e)},reportEvent:function(e,r){var t=this.getEventUrl(e,r);this.createTrackingPixel(t)},defaults:P.defaultsQsParams,eventQueryStringParams:function(e){var r=s({},this.defaults,{realAppId:e&&e.appId,timestamp:Date.now()});return(0,E.formatQS)(r)},createTrackingPixel:function(e){_.fire([this.getPageProtocol()+e])}},y={defaultsParams:s({},P.defaultsQsParams,{f:v.DISPLAY_AD,fs:!1,ref:A}),serverParamNameBySettingParamName:{referrer:"ref",keywords:"k",appId:"aid",portal:"po",age:"a",gender:"g"},unwantedValues:["",null,void 0],toServerParams:function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&this.serverParamNameBySettingParamName.hasOwnProperty(t)?r[this.serverParamNameBySettingParamName[t]]=e[t]:r[t]=e[t];return r.isSecured="https:"===g.getPageProtocol()||null,r},getUrlParams:function(e){var r=this.toServerParams(e),t=s({},this.defaultsParams,r);for(var a in t)t.hasOwnProperty(a)&&-1!==this.unwantedValues.indexOf(t[a])&&delete t[a];return t.fs=e.spotType===v.SPOT_TYPES.INTERSTITIAL,e.spotType===v.SPOT_TYPES.RECTANGLE&&(t.rw=v.RECTANGLE_SIZE.W,t.rh=v.RECTANGLE_SIZE.H),"undefined"!=typeof pbjs&&(t.bco=pbjs.cbTimeout||h.config.getConfig("bidderTimeout")),t.timestamp=Date.now(),delete t.qa,t}},S={headers:[v.RESPONSE_HEADERS_NAME.PRICING_VALUE,v.RESPONSE_HEADERS_NAME.AD_H,v.RESPONSE_HEADERS_NAME.AD_W],getBidHeaders:function(e){var r={};return this.headers.forEach((function(t){return r[t]=e.getResponseHeader(t)})),r}},I=(function(){function e(){n(this,e),this.iaAdapter=new c.default(v.ADAPTER_NAME),this.setBidderCode=this.iaAdapter.setBidderCode.bind(this),this.bidByBidId={}}return o(e,[{key:"_isValidRequest",value:function(e){return!!(e&&e.appId&&e.spotType)||(d.logError("bid requires appId"),!1)}},{key:"_storeBidRequestDetails",value:function(e){return this.bidByBidId[e.bidId]=e,e}},{key:"_getBidDetails",value:function(e,r,t){var a=p.default.createBid(e,r);return a.code=v.ADAPTER_NAME,a.bidderCode=a.code,e===f.STATUS.GOOD&&(a=s(a,r),this._setBidCpm(a,t)),a}},{key:"_setBidCpm",value:function(e,r){var t=this.bidByBidId[r];t&&(e.cpm=t.params&&t.params.qa&&t.params.qa.cpm||e.cpm,e.cpm=null===e.cpm||isNaN(e.cpm)?0:parseFloat(e.cpm))}},{key:"_isValidBidResponse",value:function(e,r){return e&&e.ad&&e.ad.html&&r&&r[v.RESPONSE_HEADERS_NAME.PRICING_VALUE]>0}},{key:"_onResponse",value:function(e,r,t){var a=this.bidByBidId[t],n=i(a.sizes[0],2),o={w:n[0],h:n[1]},s=void 0,c=S.getBidHeaders(r);try{s=JSON.parse(e)}catch(e){d.logError(e)}if(!this._isValidBidResponse(s,c)){var u="response failed for "+v.ADAPTER_NAME+" adapter";d.logError(u);var p=s&&s.config&&s.config.passback;return p&&_.fire([p]),g.reportEvent("HBPreBidNoAd",a.params),l.default.addBidResponse(a.placementCode,this._getBidDetails(f.STATUS.NO_BID))}var E={cpm:1e3*c[v.RESPONSE_HEADERS_NAME.PRICING_VALUE],width:parseFloat(c[v.RESPONSE_HEADERS_NAME.AD_W])||o.w,ad:this._getAd(s.ad.html,s.config.tracking,a.params),height:parseFloat(c[v.RESPONSE_HEADERS_NAME.AD_H])||o.h},m=this._getBidDetails(f.STATUS.GOOD,E,t);a.adId=m.adId,this.bidByBidId[t]=a,l.default.addBidResponse(a.placementCode,m)}},{key:"_getAd",value:function(e,r,t){var a="";if(r&&Array.isArray(r.impressions)){var n=r.impressions;n.push(g.getEventUrl("HBPreBidImpression",t,!1)),n.forEach((function(e){return e&&(a+=d.createTrackPixelHtml(e))}))}e=a+e.replace(/<a /g,'<a target="_blank" ');var i=r&&Array.isArray(r.clicks)&&r.clicks;return i&&Array.isArray(i)&&i.push(g.getEventUrl("HBPreBidClick",t,!1)),"\n      <html>\n        <head>\n            <script type='text/javascript'>inDapIF=true;<\/script>\n        </head>\n        <body style='margin : 0; padding: 0;'>\n            <div id=\"iaAdContainer\">"+e+"</div>\n            <script type='text/javascript'>\n                var iaAdContainer = document.getElementById('iaAdContainer');\n                if(iaAdContainer){\n                    var clicks = '"+i+"';\n                    if(clicks){\n                      clicks = clicks.split(',');\n                      iaAdContainer.addEventListener('click', function onIaContainerClick(){\n                          clicks.forEach(function forEachClick(click){\n                              if(click){\n                                  (new Image(1,1)).src = encodeURI(click);\n                              }\n                          });\n                      });\n                    }\n                }\n            <\/script>\n        </body>\n      </html>"}},{key:"_toIaBidParams",value:function(e){var r=s({},e.params,e.params.customParams);delete r.customParams,e.params=P.objectToCamel(r)}},{key:"callBids",value:function(e){var r=this,t=e.bids||[];t.forEach((function(e){return r._toIaBidParams(e)})),t.filter((function(e){return r._isValidRequest(e.params)})).map((function(e){return r._storeBidRequestDetails(e)})).forEach((function(e){return(0,u.ajax)(r._getEndpointUrl(e.params),(function(t,a){return r._onResponse(t,a,e.bidId)}),y.getUrlParams(e.params),{method:"GET"})}))}},{key:"_getEndpointUrl",value:function(e){return e&&e.qa&&e.qa.url||g.getPageProtocol()+v.ENDPOINT_URL}},{key:"_getStoredBids",value:function(){var e=[];for(var r in this.bidByBidId)this.bidByBidId.hasOwnProperty(r)&&e.push(this.bidByBidId[r]);return e}}],[{key:"_getUtils",value:function(){return{Reporter:g}}}]),e})();m.default.registerBidAdapter(new I,"inneractive"),e.exports=I}},[176]);