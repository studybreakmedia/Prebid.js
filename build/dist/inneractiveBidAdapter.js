pbjsChunk([90],{176:function(e,r,t){e.exports=t(177)},177:function(e,r,t){"use strict";var a=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,r){var t=[],a=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}return t})(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=(function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}})(),i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o=(function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}})(t(0)),s=m(t(9)),d=t(7),c=m(t(2)),u=m(t(3)),l=t(4),p=t(13),f=m(t(1)),E=t(8);function m(e){return e&&e.__esModule?e:{default:e}}var h={ADAPTER_NAME:"inneractive",V:"IA-JS-HB-PBJS-1.0",RECTANGLE_SIZE:{W:300,H:250},SPOT_TYPES:{INTERSTITIAL:"interstitial",RECTANGLE:"rectangle",FLOATING:"floating",BANNER:"banner"},DISPLAY_AD:20,ENDPOINT_URL:"//ad-tag.inner-active.mobi/simpleM2M/requestJsonAd",EVENTS_ENDPOINT_URL:"//vast-events.inner-active.mobi/Event",RESPONSE_HEADERS_NAME:{PRICING_VALUE:"X-IA-Pricing-Value",AD_H:"X-IA-Ad-Height",AD_W:"X-IA-Ad-Width"}},v=void 0;try{v=window.top.document.referrer}catch(e){v=window.document.referrer}var A={defaultsQsParams:{v:h.V,page:encodeURIComponent(o.getTopWindowUrl()),mw:!0,hb:"prebidjs"},stringToCamel:function(e){if(-1===e.indexOf("_")){var r=e.charAt(0);return r!==r.toLowerCase()&&(e=e.toLowerCase()),e}return(e=e.toLowerCase()).replace(/(\_[a-z])/g,(function(e){return e.toUpperCase().replace("_","")}))},objectToCamel:function(e){var r=this;return Object.keys(e).forEach((function(t){var a=r.stringToCamel(t);a!==t&&(e[a]=e[t],delete e[t])})),e}},P=function(e){e.forEach((function(e){return e&&(new Image(1,1).src=encodeURI(e))}))},_={errorEventName:"HBPreBidError",pageProtocol:"",getPageProtocol:function(){return this.pageProtocol||(this.pageProtocol="http:"===o.getTopWindowLocation().protocol?"http:":"https:"),this.pageProtocol},getEventUrl:function(e,r){return h.EVENTS_ENDPOINT_URL+"?table="+(e===this.errorEventName?"mbwError":"mbwEvent")+"&"+(this.eventQueryStringParams(r)+"&aid="+(r&&r.appId)+"_"+e+"_other&evtName="+e)},reportEvent:function(e,r){var t=this.getEventUrl(e,r);this.createTrackingPixel(t)},defaults:A.defaultsQsParams,eventQueryStringParams:function(e){var r=i({},this.defaults,{realAppId:e&&e.appId,timestamp:Date.now()});return(0,p.formatQS)(r)},createTrackingPixel:function(e){P([this.getPageProtocol()+e])}},g={defaultsParams:i({},A.defaultsQsParams,{f:h.DISPLAY_AD,fs:!1,ref:v}),serverParamNameBySettingParamName:{referrer:"ref",keywords:"k",appId:"aid",portal:"po",age:"a",gender:"g"},unwantedValues:["",null,void 0],toServerParams:function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&this.serverParamNameBySettingParamName.hasOwnProperty(t)?r[this.serverParamNameBySettingParamName[t]]=e[t]:r[t]=e[t];return r.isSecured="https:"===_.getPageProtocol()||null,r},getUrlParams:function(e){var r=this.toServerParams(e),t=i({},this.defaultsParams,r);for(var a in t)t.hasOwnProperty(a)&&-1!==this.unwantedValues.indexOf(t[a])&&delete t[a];return t.fs=e.spotType===h.SPOT_TYPES.INTERSTITIAL,e.spotType===h.SPOT_TYPES.RECTANGLE&&(t.rw=h.RECTANGLE_SIZE.W,t.rh=h.RECTANGLE_SIZE.H),"undefined"!=typeof pbjs&&(t.bco=pbjs.cbTimeout||E.config.getConfig("bidderTimeout")),t.timestamp=Date.now(),delete t.qa,t}},y={headers:[h.RESPONSE_HEADERS_NAME.PRICING_VALUE,h.RESPONSE_HEADERS_NAME.AD_H,h.RESPONSE_HEADERS_NAME.AD_W],getBidHeaders:function(e){var r={};return this.headers.forEach((function(t){return r[t]=e.getResponseHeader(t)})),r}},S=(function(){function e(){!(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),this.iaAdapter=new s.default(h.ADAPTER_NAME),this.setBidderCode=this.iaAdapter.setBidderCode.bind(this),this.bidByBidId={}}return n(e,[{key:"_isValidRequest",value:function(e){return!!(e&&e.appId&&e.spotType)||(o.logError("bid requires appId"),!1)}},{key:"_storeBidRequestDetails",value:function(e){return this.bidByBidId[e.bidId]=e,e}},{key:"_getBidDetails",value:function(e,r,t){var a=u.default.createBid(e,r);return a.code=h.ADAPTER_NAME,a.bidderCode=a.code,e===l.STATUS.GOOD&&(a=i(a,r),this._setBidCpm(a,t)),a}},{key:"_setBidCpm",value:function(e,r){var t=this.bidByBidId[r];t&&(e.cpm=t.params&&t.params.qa&&t.params.qa.cpm||e.cpm,e.cpm=null===e.cpm||isNaN(e.cpm)?0:parseFloat(e.cpm))}},{key:"_isValidBidResponse",value:function(e,r){return e&&e.ad&&e.ad.html&&r&&r[h.RESPONSE_HEADERS_NAME.PRICING_VALUE]>0}},{key:"_onResponse",value:function(e,r,t){var n=this.bidByBidId[t],i=a(n.sizes[0],2),s={w:i[0],h:i[1]},d=void 0,u=y.getBidHeaders(r);try{d=JSON.parse(e)}catch(e){o.logError(e)}if(!this._isValidBidResponse(d,u)){var p="response failed for "+h.ADAPTER_NAME+" adapter";o.logError(p);var f=d&&d.config&&d.config.passback;return f&&P([f]),_.reportEvent("HBPreBidNoAd",n.params),c.default.addBidResponse(n.placementCode,this._getBidDetails(l.STATUS.NO_BID))}var E={cpm:1e3*u[h.RESPONSE_HEADERS_NAME.PRICING_VALUE],width:parseFloat(u[h.RESPONSE_HEADERS_NAME.AD_W])||s.w,ad:this._getAd(d.ad.html,d.config.tracking,n.params),height:parseFloat(u[h.RESPONSE_HEADERS_NAME.AD_H])||s.h},m=this._getBidDetails(l.STATUS.GOOD,E,t);n.adId=m.adId,this.bidByBidId[t]=n,c.default.addBidResponse(n.placementCode,m)}},{key:"_getAd",value:function(e,r,t){var a="";if(r&&Array.isArray(r.impressions)){var n=r.impressions;n.push(_.getEventUrl("HBPreBidImpression",t,!1)),n.forEach((function(e){return e&&(a+=o.createTrackPixelHtml(e))}))}e=a+e.replace(/<a /g,'<a target="_blank" ');var i=r&&Array.isArray(r.clicks)&&r.clicks;return i&&Array.isArray(i)&&i.push(_.getEventUrl("HBPreBidClick",t,!1)),"\n      <html>\n        <head>\n            <script type='text/javascript'>inDapIF=true;<\/script>\n        </head>\n        <body style='margin : 0; padding: 0;'>\n            <div id=\"iaAdContainer\">"+e+"</div>\n            <script type='text/javascript'>\n                var iaAdContainer = document.getElementById('iaAdContainer');\n                if(iaAdContainer){\n                    var clicks = '"+i+"';\n                    if(clicks){\n                      clicks = clicks.split(',');\n                      iaAdContainer.addEventListener('click', function onIaContainerClick(){\n                          clicks.forEach(function forEachClick(click){\n                              if(click){\n                                  (new Image(1,1)).src = encodeURI(click);\n                              }\n                          });\n                      });\n                    }\n                }\n            <\/script>\n        </body>\n      </html>"}},{key:"_toIaBidParams",value:function(e){var r=i({},e.params,e.params.customParams);delete r.customParams,e.params=A.objectToCamel(r)}},{key:"callBids",value:function(e){var r=this,t=e.bids||[];t.forEach((function(e){return r._toIaBidParams(e)})),t.filter((function(e){return r._isValidRequest(e.params)})).map((function(e){return r._storeBidRequestDetails(e)})).forEach((function(e){return(0,d.ajax)(r._getEndpointUrl(e.params),(function(t,a){return r._onResponse(t,a,e.bidId)}),g.getUrlParams(e.params),{method:"GET"})}))}},{key:"_getEndpointUrl",value:function(e){return e&&e.qa&&e.qa.url||_.getPageProtocol()+h.ENDPOINT_URL}},{key:"_getStoredBids",value:function(){var e=[];for(var r in this.bidByBidId)this.bidByBidId.hasOwnProperty(r)&&e.push(this.bidByBidId[r]);return e}}],[{key:"_getUtils",value:function(){return{Reporter:_}}}]),e})();f.default.registerBidAdapter(new S,"inneractive"),e.exports=S}},[176]);