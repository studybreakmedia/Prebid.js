pbjsChunk([45],{96:function(e,r,i){i(97),e.exports=i(98)},97:function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var t,a=l(["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","","",";misc=",""],["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","","",";misc=",""]),n=l(["//","/bidRequest?"],["//","/bidRequest?"]),o=l(["dcn=","&pos=","&cmd=bid",""],["dcn=","&pos=","&cmd=bid",""]),s=(function(e){{if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.default=e,r}})(i(0)),d=i(6),c=i(9),p=i(4),u=(t=p)&&t.__esModule?t:{default:t};function l(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var m={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},f={DISPLAY:{GET:"display-get"},MOBILE:{GET:"mobile-get",POST:"mobile-post"}},b={IFRAME:{TAG:"iframe",TYPE:"iframe"},IMAGE:{TAG:"img",TYPE:"image"}},v=y(a,"host","network","placement","pageid","sizeid","alias","bidfloor","keyValues","misc"),E=y(n,"host"),g=y(o,"dcn","pos","ext"),O={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},h="hb.nexage.com",I=300;pbjs.aolGlobals={pixelsDropped:!1};var x,A=(x=!0,function(){var e=pbjs.bidderSettings;x&&e&&e.aol&&"function"==typeof e.aol.bidCpmAdjustment&&(s.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net â€“ please contact your accounts team to enable."),x=!1)});function y(e){for(var r=arguments.length,i=Array(r>1?r-1:0),t=1;t<r;t++)i[t-1]=arguments[t];return function(){for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];var n=t[t.length-1]||{},o=[e[0]];return i.forEach((function(r,i){var a=Number.isInteger(r)?t[r]:n[r];o.push(a,e[i+1])})),o.join("")}}function S(e){var r,i,t,a=e.params,n=a.server,o=a.region||"us",d=void 0;return O.hasOwnProperty(o)||(s.logWarn("Unknown region '"+o+"' for AOL bidder."),o="us"),d=n||O[o],a.region=o,v({host:d,network:a.network,placement:parseInt(a.placement),pageid:a.pageId||0,sizeid:a.sizeId||0,alias:a.alias||s.getUniqueIdentifierStr(),bidfloor:(t=a.bidFloor,void 0!==t?";bidfloor="+t.toString():""),keyValues:(r=a.keyValues,i="",s._each(r,(function(e,r){i+=";kv"+r+"="+encodeURIComponent(e)})),i),misc:(new Date).getTime()})}function T(e){return E({host:e.params.host||h})}function L(e){var r=e.params,i=r.dcn,t=r.pos,a=T(e);if(i&&t){var n="";"https:"===document.location.protocol&&(e.params.ext=e.params.ext||{},e.params.ext.secure=1),s._each(e.params.ext,(function(e,r){n+="&"+r+"="+encodeURIComponent(e)})),a+=g({dcn:i,pos:t,ext:n})}return a}function P(e){return e===m.AOL||e===m.ONEMOBILE}function G(e){if(P(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var r=e.params.imp[0];return r.id&&r.tagid&&(r.banner&&r.banner.w&&r.banner.h||r.video&&r.video.mimes&&r.video.minduration&&r.video.maxduration)}}function j(e){return P(e.bidder)&&e.params.dcn&&e.params.pos}function D(e){return((r=e.bidder)===m.AOL||r===m.ONEDISPLAY)&&e.params.placement&&e.params.network;var r}var M=r.spec={code:m.AOL,aliases:[m.ONEMOBILE,m.ONEDISPLAY],isBidRequestValid:function(e){return D(e)||(j(r=e)||G(r));var r},buildRequests:function(e){return e.map((function(e){var r,i=j(r=e)?f.MOBILE.GET:G(r)?f.MOBILE.POST:D(r)?f.DISPLAY.GET:void 0;if(i)return (function(e,r){var i=void 0;switch(e){case f.DISPLAY.GET:i={url:S(r),method:"GET"};break;case f.MOBILE.GET:i={url:L(r),method:"GET"};break;case f.MOBILE.POST:i={url:T(r),method:"POST",data:r.params,options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return i.bidderCode=r.bidder,i.bidId=r.bidId,i.userSyncOn=r.params.userSyncOn,i})(i,e)}))},interpretResponse:function(e,r){var i=e.body;if(A(),i){var t=(function(e,r){var i=void 0;try{i=e.seatbid[0].bid[0]}catch(e){return}var t=void 0;if(i.ext&&i.ext.encp)t=i.ext.encp;else if(null===(t=i.price)||isNaN(t))return void s.logError("Invalid price in bid response",m.AOL,bid);var a=i.adm;return e.ext&&e.ext.pixels&&c.config.getConfig("aol.userSyncOn")!==u.default.EVENTS.BID_RESPONSE&&(a+="<script>if(!parent.pbjs.aolGlobals.pixelsDropped){parent.pbjs.aolGlobals.pixelsDropped=true;"+e.ext.pixels.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"}<\/script>"),{bidderCode:r.bidderCode,requestId:r.bidId,ad:a,cpm:t,width:i.w,height:i.h,creativeId:i.crid,pubapiId:e.id,currency:e.cur,dealId:i.dealid,netRevenue:!0,ttl:I}})(i,r);if(t)return t}else s.logError("Empty bid response",r.bidderCode,i)},getUserSyncs:function(e,r){var i=r[0];return c.config.getConfig("aol.userSyncOn")===u.default.EVENTS.BID_RESPONSE&&!pbjs.aolGlobals.pixelsDropped&&i.ext&&i.ext.pixels?(pbjs.aolGlobals.pixelsDropped=!0,(function(e){var r=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,t=[];if(e){var a=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi);a&&a.forEach((function(e){var a=e.match(r)[0],n=e.match(i)[2];a&&a&&t.push({type:a===b.IMAGE.TAG?b.IMAGE.TYPE:b.IFRAME.TYPE,url:n})}))}return t})(i.ext.pixels)):[]}};(0,d.registerBidder)(M)},98:function(e,r){}},[96]);