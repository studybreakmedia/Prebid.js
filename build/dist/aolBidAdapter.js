pbjsChunk([45],{96:function(e,r,n){n(97),e.exports=n(98)},97:function(e,r,n){"use strict";function t(e,r){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function i(e){for(var r=arguments.length,n=Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];return function(){for(var r=arguments.length,t=Array(r),i=0;i<r;i++)t[i]=arguments[i];var a=t[t.length-1]||{},o=[e[0]];return n.forEach((function(r,n){var i=Number.isInteger(r)?t[r]:a[r];o.push(i,e[n+1])})),o.join("")}}function a(){return"https:"===document.location.protocol}function o(e){var r=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,n=/\w*(?=\s)/,t=/src=("|')(.*?)\1/,i=[];if(e){var a=e.match(r);a&&a.forEach((function(e){var r=e.match(n)[0],a=e.match(t)[2];r&&r&&i.push({type:r===D.IMAGE.TAG?D.IMAGE.TYPE:D.IFRAME.TYPE,url:a})}))}return i}function s(e){var r=e.params,n=r.server,t=r.region||"us",i=void 0;return R.hasOwnProperty(t)||(y.logWarn("Unknown region '"+t+"' for AOL bidder."),t="us"),i=n||R[t],r.region=t,M({host:i,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||y.getUniqueIdentifierStr(),bidfloor:d(r.bidFloor),keyValues:c(r.keyValues),misc:(new Date).getTime()})}function d(e){return void 0!==e?";bidfloor="+e.toString():""}function c(e){var r="";return y._each(e,(function(e,n){r+=";kv"+n+"="+encodeURIComponent(e)})),r}function u(e){return w({host:e.params.host||B})}function p(e){var r=e.params,n=r.dcn,t=r.pos,i=u(e);if(n&&t){var o="";a()&&(e.params.ext=e.params.ext||{},e.params.ext.secure=1),y._each(e.params.ext,(function(e,r){o+="&"+r+"="+encodeURIComponent(e)})),i+=N({dcn:n,pos:t,ext:o})}return i}function l(e,r){var n=void 0;try{n=e.seatbid[0].bid[0]}catch(e){return}var t=void 0;if(n.ext&&n.ext.encp)t=n.ext.encp;else if(null===(t=n.price)||isNaN(t))return void y.logError("Invalid price in bid response",G.AOL,bid);var i=n.adm;return e.ext&&e.ext.pixels&&T.config.getConfig("aol.userSyncOn")!==L.default.EVENTS.BID_RESPONSE&&(i+="<script>if(!parent.pbjs.aolGlobals.pixelsDropped){parent.pbjs.aolGlobals.pixelsDropped=true;"+e.ext.pixels.replace(/<\/?script( type=('|")text\/javascript('|")|)?>/g,"")+"}<\/script>"),{bidderCode:r.bidderCode,requestId:r.bidId,ad:i,cpm:t,width:n.w,height:n.h,creativeId:n.crid,pubapiId:e.id,currency:e.cur,dealId:n.dealid,netRevenue:!0,ttl:C}}function f(e){return e===G.AOL||e===G.ONEDISPLAY}function m(e){return e===G.AOL||e===G.ONEMOBILE}function b(e){if(m(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var r=e.params.imp[0];return r.id&&r.tagid&&(r.banner&&r.banner.w&&r.banner.h||r.video&&r.video.mimes&&r.video.minduration&&r.video.maxduration)}}function v(e){return m(e.bidder)&&e.params.dcn&&e.params.pos}function E(e){return f(e.bidder)&&e.params.placement&&e.params.network}function g(e){return v(e)||b(e)}function I(e){return v(e)?j.MOBILE.GET:b(e)?j.MOBILE.POST:E(e)?j.DISPLAY.GET:void 0}function h(e,r){var n=void 0;switch(e){case j.DISPLAY.GET:n={url:s(r),method:"GET"};break;case j.MOBILE.GET:n={url:p(r),method:"GET"};break;case j.MOBILE.POST:n={url:u(r),method:"POST",data:r.params,options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=r.bidder,n.bidId=r.bidId,n.userSyncOn=r.params.userSyncOn,n}Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var O=t(["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","","",";misc=",""],["//","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=","","",";misc=",""]),A=t(["//","/bidRequest?"],["//","/bidRequest?"]),x=t(["dcn=","&pos=","&cmd=bid",""],["dcn=","&pos=","&cmd=bid",""]),y=(function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r})(n(0)),S=n(6),T=n(8),L=(function(e){return e&&e.__esModule?e:{default:e}})(n(4)),P=n(12),G={AOL:"aol",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},j={DISPLAY:{GET:"display-get"},MOBILE:{GET:"mobile-get",POST:"mobile-post"}},D={IFRAME:{TAG:"iframe",TYPE:"iframe"},IMAGE:{TAG:"img",TYPE:"image"}},M=i(O,"host","network","placement","pageid","sizeid","alias","bidfloor","keyValues","misc"),w=i(A,"host"),N=i(x,"dcn","pos","ext"),R={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},B="hb.nexage.com",C=300;pbjs.aolGlobals={pixelsDropped:!1};var k=(function(){var e=!0;return function(){var r=pbjs.bidderSettings;e&&r&&r.aol&&"function"==typeof r.aol.bidCpmAdjustment&&(y.logWarn("bidCpmAdjustment is active for the AOL adapter. As of Prebid 0.14, AOL can bid in net â€“ please contact your accounts team to enable."),e=!1)}})(),Y=r.spec={code:G.AOL,aliases:[G.ONEMOBILE,G.ONEDISPLAY],isBidRequestValid:function(e){return E(e)||g(e)},buildRequests:function(e){return e.map((function(e){var r=I(e);if(r)return h(r,e)}))},interpretResponse:function(e,r){var n=e.body;if(k(),n){var t=l(n,r);if(t)return t}else y.logError("Empty bid response",r.bidderCode,n);return{requestId:r.bidId,cpm:0,width:1,height:1,creativeId:null,dealId:null,currency:"USD",netRevenue:!0,mediaType:P.BANNER,ttl:6e4,ad:null}},getUserSyncs:function(e,r){var n=r[0];return T.config.getConfig("aol.userSyncOn")===L.default.EVENTS.BID_RESPONSE&&!pbjs.aolGlobals.pixelsDropped&&n.ext&&n.ext.pixels?(pbjs.aolGlobals.pixelsDropped=!0,o(n.ext.pixels)):[]}};(0,S.registerBidder)(Y)},98:function(e,r){}},[96]);