pbjsChunk([37],{141:function(r,e,t){r.exports=t(142)},142:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r};e.default=p;var o=t(143),i=t(21),s=t(12),n=t(0),u=t(9),d={env:"vp",gdfp_req:1,output:"xml_vast3",unviewed_position_start:1};function p(r){if(r.params||r.url){var e=r.adUnit,t=r.bid||(0,i.getWinningBids)(e.code)[0],o={};if(r.url&&(o=(0,s.parse)(r.url),(0,n.isEmpty)(r.params)))return (function(r,e){var t=c(e,r,"search");t&&(r.search.description_url=t);var o=e&&e.adserverTargeting||{},i=a({},o);return r.search.cust_params=encodeURIComponent((0,s.formatQS)(i)),(0,s.format)(r)})(o,t);var u={correlator:Date.now(),sz:(0,n.parseSizesInput)(e.sizes).join("|"),url:location.href},p=t&&t.adserverTargeting||{},l=a({},p,{hb_uuid:t&&t.videoCacheKey},r.params.cust_params),v=a({},d,o.search,u,r.params,{cust_params:encodeURIComponent((0,s.formatQS)(l))}),f=c(t,r,"params");return f&&(v.description_url=f),(0,s.format)({protocol:"https",host:"pubads.g.doubleclick.net",pathname:"/gampad/ads",search:v})}(0,n.logError)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl")}function c(r,e,t){if(!u.config.getConfig("usePrebidCache"))if((0,n.deepAccess)(e,t+".description_url"))(0,n.logError)("input cannnot contain description_url");else{var a=r&&r.vastUrl;if(a)return encodeURIComponent(a)}}(0,o.registerVideoSupport)("dfp",{buildVideoUrl:p})},143:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerVideoSupport=function(r,e){if(i.adServers=i.adServers||{},i.adServers[r]=i.adServers[r]||{},i.adServers[r].buildVideoUrl)return void(0,o.logWarn)("Multiple calls to registerVideoSupport for AdServer "+r+". Expect surprising behavior.");i.adServers[r].buildVideoUrl=e.buildVideoUrl};var a=t(31),o=t(0),i=(0,a.getGlobal)()}},[141]);