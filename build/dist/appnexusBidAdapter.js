pbjsChunk([111],{104:function(e,r,a){e.exports=a(105)},105:function(e,r,a){"use strict";var t,d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},s=a(0),i=a(1),l=(t=i)&&t.__esModule?t:{default:t};var n,p=a(4),u=a(0),c=a(5),m=a(2),o=a(3),g=a(8).default;n=function(){var e=new g("appnexus"),r=!1;function a(e,r){var a=u.getBidIdParameter("placementId",e.params),t=u.getBidIdParameter("memberId",e.params),s=u.getBidIdParameter("member",e.params),i=u.getBidIdParameter("invCode",e.params),l=u.getBidIdParameter("query",e.params),n=u.getBidIdParameter("referrer",e.params),p=u.getBidIdParameter("alt_referrer",e.params),c=u.getBidIdParameter("usePaymentRule",e.params),m="//ib.adnxs.com/jpt?";m=u.tryAppendQueryString(m,"callback","pbjs.handleAnCB"),m=u.tryAppendQueryString(m,"callback_uid",r),m=u.tryAppendQueryString(m,"psa","0"),m=u.tryAppendQueryString(m,"id",a),m=u.tryAppendQueryString(m,"use_pmt_rule",c),s?m=u.tryAppendQueryString(m,"member",s):t&&(m=u.tryAppendQueryString(m,"member",t),u.logMessage('appnexus.callBids: "memberId" will be deprecated soon. Please use "member" instead')),m=u.tryAppendQueryString(m,"code",i),m=u.tryAppendQueryString(m,"traffic_source_code",u.getBidIdParameter("trafficSourceCode",e.params));var o="",g=u.parseSizesInput(e.sizes),f=g.length;if(f>0&&(o="size="+g[0],f>1)){o+="&promo_sizes=";for(var y=1;y<f;y++)o+=g[y]+=",";o&&","===o.charAt(o.length-1)&&(o=o.slice(0,o.length-1))}o&&(m+=o+"&");var b=u.parseQueryStringParameters(l);b&&(m+=b);var B=d({},e.params);delete B.placementId,delete B.memberId,delete B.invCode,delete B.query,delete B.referrer,delete B.alt_referrer,delete B.member,delete B.usePaymentRule;var v=u.parseQueryStringParameters(B);return v&&(m+=v),""===n&&(n=u.getTopWindowUrl()),m=u.tryAppendQueryString(m,"referrer",n),(m=u.tryAppendQueryString(m,"alt_referrer",p)).lastIndexOf("&")===m.length-1&&(m=m.substring(0,m.length-1)),u.logMessage("jpt request built: "+m),e.startTime=(new Date).getTime(),m}return e.callBids=function(e){for(var r=e.bids,t=0;t<r.length;t++){var d=r[t],s=d.bidId;c.loadScript(a(d,s))}},pbjs.handleAnCB=function(e){var a;if(e&&e.callback_uid){var t,d=e.callback_uid,i="",l=(0,s.getBidRequest)(d);l&&(a=l.bidder,i=l.placementCode,l.status=p.STATUS.GOOD),u.logMessage("JSONP callback function called for ad ID: "+d);var n=[];if(e.result&&e.result.cpm&&0!==e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var c=e.result.creative_id;(n=o.createBid(1,l)).creative_id=c,n.bidderCode=a,n.cpm=t,n.adUrl=e.result.ad,n.width=e.result.width,n.height=e.result.height,n.dealId=e.result.deal_id,m.addBidResponse(i,n)}else u.logMessage("No prebid response from AppNexus for placement code "+i),(n=o.createBid(2,l)).bidderCode=a,m.addBidResponse(i,n);if(!r){var g=u.createInvisibleIframe();g.src="//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html";try{document.body.appendChild(g)}catch(e){u.logError(e)}r=!0}}else u.logMessage("No prebid response for placement %%PLACEMENT%%")},d(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,buildJPTCall:a})},l.default.registerBidAdapter(new n,"appnexus"),l.default.aliasBidAdapter("appnexus","brealtime"),l.default.aliasBidAdapter("appnexus","pagescience"),l.default.aliasBidAdapter("appnexus","defymedia"),l.default.aliasBidAdapter("appnexus","gourmetads"),l.default.aliasBidAdapter("appnexus","matomy"),l.default.aliasBidAdapter("appnexus","featureforward"),l.default.aliasBidAdapter("appnexus","oftmedia"),e.exports=n}},[104]);